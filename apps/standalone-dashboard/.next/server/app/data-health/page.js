(()=>{var e={};e.id=884,e.ids=[884],e.modules={1822:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c});var a=t(25509),r=t(4290),n=t(16012),l=t.n(n),i=t(45243),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c={children:["",{children:["data-health",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,73746)),"/Users/tbwa/agency-databank/apps/standalone-dashboard/src/app/data-health/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,90451)),"/Users/tbwa/agency-databank/apps/standalone-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1928,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,929,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,35102,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/tbwa/agency-databank/apps/standalone-dashboard/src/app/data-health/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/data-health/page",pathname:"/data-health",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7757:()=>{},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41507:(e,s,t)=>{"use strict";t.d(s,{Navigation:()=>y});var a=t(94793),r=t(37268),n=t.n(r),l=t(84235),i=t(50056),d=t(98252);function c(...e){return(0,d.QP)((0,i.$)(e))}var o=t(38944),m=t(97431),x=t(77843),h=t(91555),p=t(33692),u=t(44117),g=t(30956);let b=[{name:"Dashboard",href:"/",icon:o.A},{name:"Data Health",href:"/data-health",icon:m.A},{name:"Data Sources",href:"/data-sources",icon:x.A},{name:"Settings",href:"/settings",icon:h.A}];function y(){let e=(0,l.usePathname)(),[s,t]=(0,g.useState)(!1);return(0,a.jsxs)("nav",{className:"bg-white shadow-sm border-b",children:[(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,a.jsx)(n(),{href:"/",className:"text-xl font-bold text-gray-900",children:"Scout Analytics"})}),(0,a.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:b.map(s=>{let t=e===s.href;return(0,a.jsxs)(n(),{href:s.href,className:c("inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",t?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[(0,a.jsx)(s.icon,{className:"w-4 h-4 mr-2"}),s.name]},s.name)})})]}),(0,a.jsx)("div",{className:"sm:hidden flex items-center",children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",onClick:()=>t(!s),children:[(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),s?(0,a.jsx)(p.A,{className:"block h-6 w-6"}):(0,a.jsx)(u.A,{className:"block h-6 w-6"})]})})]})}),s&&(0,a.jsx)("div",{className:"sm:hidden",children:(0,a.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:b.map(s=>{let r=e===s.href;return(0,a.jsx)(n(),{href:s.href,className:c("block pl-3 pr-4 py-2 border-l-4 text-base font-medium",r?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"),onClick:()=>t(!1),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(s.icon,{className:"w-4 h-4 mr-2"}),s.name]})},s.name)})})})]})}},45906:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(93212).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},52258:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(93212).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},54118:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,21096,23)),Promise.resolve().then(t.t.bind(t,21670,23)),Promise.resolve().then(t.t.bind(t,62182,23)),Promise.resolve().then(t.t.bind(t,29545,23)),Promise.resolve().then(t.t.bind(t,8877,23)),Promise.resolve().then(t.t.bind(t,70773,23)),Promise.resolve().then(t.t.bind(t,18589,23)),Promise.resolve().then(t.t.bind(t,4263,23))},56765:(e,s,t)=>{Promise.resolve().then(t.bind(t,73746))},60474:(e,s,t)=>{Promise.resolve().then(t.bind(t,41507))},61508:(e,s,t)=>{"use strict";t.d(s,{Navigation:()=>a});let a=(0,t(11429).registerClientReference)(function(){throw Error("Attempted to call Navigation() from the server but Navigation is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tbwa/agency-databank/apps/standalone-dashboard/src/components/Navigation.tsx","Navigation")},62366:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,64174,23)),Promise.resolve().then(t.t.bind(t,76264,23)),Promise.resolve().then(t.t.bind(t,16012,23)),Promise.resolve().then(t.t.bind(t,46143,23)),Promise.resolve().then(t.t.bind(t,13847,23)),Promise.resolve().then(t.t.bind(t,56959,23)),Promise.resolve().then(t.t.bind(t,67247,23)),Promise.resolve().then(t.t.bind(t,45401,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71090:(e,s,t)=>{Promise.resolve().then(t.bind(t,61508))},73746:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(11429).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tbwa/agency-databank/apps/standalone-dashboard/src/app/data-health/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tbwa/agency-databank/apps/standalone-dashboard/src/app/data-health/page.tsx","default")},75325:(e,s,t)=>{Promise.resolve().then(t.bind(t,91350))},90451:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>i});var a=t(63235),r=t(48625),n=t.n(r);t(7757);var l=t(61508);let i={title:"Scout Analytics Dashboard",description:"Real-time analytics dashboard for Scout retail intelligence platform"};function d({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsxs)("body",{className:n().className,children:[(0,a.jsx)(l.Navigation,{}),(0,a.jsx)("main",{children:e})]})})}},91350:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var a=t(94793),r=t(30956),n=t(45906),l=t(93212);let i=(0,l.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),d=(0,l.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var c=t(77843);let o=(0,l.A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var m=t(97431),x=t(52258);function h(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!0),[h,p]=(0,r.useState)(null),[u,g]=(0,r.useState)(null),b=async()=>{try{l(!0);let e=await fetch("/api/dq/summary");if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();s(t),g(new Date),p(null)}catch(e){console.error("Failed to fetch health data:",e),p(e instanceof Error?e.message:"Unknown error")}finally{l(!1)}},y=e=>{switch(e){case"CRITICAL":return"text-red-700 bg-red-100 border-red-300";case"HIGH":return"text-orange-700 bg-orange-100 border-orange-300";case"MEDIUM":return"text-yellow-700 bg-yellow-100 border-yellow-300";case"LOW":return"text-blue-700 bg-blue-100 border-blue-300";default:return"text-gray-700 bg-gray-100 border-gray-300"}};return t&&!e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between py-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Data Health Dashboard"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Real-time data quality monitoring and ETL health"})]})})})}),(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)(n.A,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading data health metrics..."})]})})]}):h&&!e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between py-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Data Health Dashboard"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Real-time data quality monitoring and ETL health"})]})})})}),(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i,{className:"h-5 w-5 text-red-500"}),(0,a.jsxs)("span",{className:"text-red-700",children:["Error loading data health: ",h]})]}),(0,a.jsxs)("button",{onClick:b,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"Retry"]})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Data Health Dashboard"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Real-time data quality monitoring and ETL health"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[u&&(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Last updated: ",u.toLocaleTimeString()]}),(0,a.jsxs)("button",{onClick:b,disabled:t,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[(0,a.jsx)(n.A,{className:`h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]})]})]})})}),(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Overall Grade"}),(0,a.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border mt-2 ${(e=>{switch(e){case"EXCELLENT":return"text-green-600 bg-green-50 border-green-200";case"GOOD":return"text-blue-600 bg-blue-50 border-blue-200";case"FAIR":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"POOR":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}})(e.summary.overall_grade)}`,children:[(0,a.jsx)(d,{className:"h-4 w-4 mr-1"}),e.summary.overall_grade]})]}),(0,a.jsx)(c.A,{className:"h-8 w-8 text-gray-400"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Data quality assessment"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Records"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.summary.total_records.toLocaleString()})]}),(0,a.jsx)(o,{className:"h-8 w-8 text-gray-400"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:[e.summary.unique_transactions.toLocaleString()," unique transactions"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Quality Scores"}),(0,a.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Timestamps"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[e.summary.timestamp_quality,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Stores"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[e.summary.store_quality,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Amounts"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-red-600",children:[e.summary.amount_quality,"%"]})]})]})]}),(0,a.jsx)(m.A,{className:"h-8 w-8 text-gray-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Data Sources"}),(0,a.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Azure"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.summary.azure_records.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"PS2"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.summary.ps2_records.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Edge"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.summary.edge_records.toLocaleString()})]})]})]}),(0,a.jsx)(x.A,{className:"h-8 w-8 text-gray-400"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Data Quality Issues"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-300",children:e.issues.length})]})}),0===e.issues.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No data quality issues detected"})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.issues.map((e,s)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-xl",children:e.status_icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.issue_type}),(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${y(e.severity)}`,children:e.severity})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:e.affected_records.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"records"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-md p-3 space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Condition:"})," ",e.condition_desc]}),(0,a.jsxs)("p",{className:"text-sm text-blue-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Resolution:"})," ",e.resolution]})]})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"ETL Activity Stream"})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.activity.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-xl",children:e.status_icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.activity_type}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.source," â€¢ ",e.description]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.record_count.toLocaleString()}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.time_ago})]})]},s))})]})]})})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[243,228],()=>t(1822));module.exports=a})();