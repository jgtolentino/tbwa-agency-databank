name: ces_reader
codename: ces
aliases: [ces, jam, jp]
endpoint: https://ces-gw.onrender.com
headers:
  Authorization: Bearer ${{ env.CES_API_TOKEN }}

tools:
  - name: ask
    method: POST
    path: /ask
    input: |
      { "prompt": "{{ input }}" }
    
  - name: search_similar
    method: POST
    path: /similar
    input: |
      {
        "image_url": "{{ input.image_url }}",
        "limit": {{ input.limit | default(5) }}
      }
    
  - name: palette_score
    method: POST
    path: /score
    input: |
      { "image_url": "{{ input.image_url }}" }
  
  - name: warc_search
    method: POST
    path: /warc/search
    input: |
      {
        "query": "{{ input.query }}",
        "limit": {{ input.limit | default(10) }}
      }
  
  - name: warc_effectiveness
    method: POST
    path: /warc/effectiveness
    input: |
      {
        "case_id": "{{ input.case_id }}",
        "metrics": {{ input.metrics | default([]) | tojson }}
      }