#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run strict backend verification before commit
echo "ğŸ” Running backend verification..."
npm run verify-backend-strict

if [ $? -ne 0 ]; then
  echo "âŒ Backend verification failed. Please fix mock/static patterns before committing."
  echo "ğŸ’¡ Tip: Use conditional imports for mock data:"
  echo "   if (import.meta.env.DEV) { ... }"
  exit 1
fi

echo "âœ… Backend verification passed"